import{e as V,r as C,h as u,f as i,F as P,P as A,u as O,m as j,n as k,j as w}from"../app.5717ddad.js";import{g as x}from"./widget-65686d73.e01111f6.js";const _={modelValue:k(),addon:{type:Object,default:()=>({})}},[p]=w("widget-Cascader");var L=V({name:p,props:_,emits:["update:modelValue"],setup:(d,{emit:f})=>{const l=C(!1),c=u({get:()=>d.modelValue,set:e=>{f("update:modelValue",e)}}),m=e=>Array.isArray(e)?e.map(({label:a,value:t,children:n,props:r})=>Object.assign(Object.assign({text:a,value:t},Array.isArray(n)?{children:m(n)}:{}),r)):[],v=u(()=>{var e,a;return m(x(d.addon.schema,(a=(e=d.addon.props)===null||e===void 0?void 0:e.options)!==null&&a!==void 0?a:[]))}),s=u(()=>Object.assign({},d.addon.props)),g=u(()=>{var e;const a=c.value;let t="",n=v.value;for(let r=0;r<a.length;r++){const h=a[r],o=n.find(({value:y})=>y===h);o&&(n=(e=o==null?void 0:o.children)!==null&&e!==void 0?e:[],t+=t?`/${o.text}`:o.text)}return t}),b=e=>{console.log(e),c.value=e.filter(Boolean).map(({value:a})=>a),l.value=!1};return()=>i("div",{class:p},[i(P,{border:!1,modelValue:g.value,"is-link":!s.value.readonly&&!s.value.disabled,center:!0,readonly:!0,inputAlign:"right",onClick:()=>{s.value.readonly||s.value.disabled||(l.value=!0)}},null),i(A,{show:l.value,"onUpdate:show":e=>l.value=e,position:"bottom"},{default:()=>[i(O,j({columns:v.value,onCancel:()=>{l.value=!1},onConfirm:b},s.value),null)]})])}});export{L as default};
