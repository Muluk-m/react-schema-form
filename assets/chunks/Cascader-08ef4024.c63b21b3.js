import{f as C,u as P,s as b,g as u,d,F as k,P as w,v as x,m as B,l as F,i as L}from"../app.028d6331.js";import{g as N}from"./widget-8eb6b43c.b301beeb.js";const O={modelValue:F()},[v]=L("widget-Cascader");var W=C({name:v,props:O,emits:["update:modelValue"],setup:(f,{emit:g})=>{const i=P(),o=b(!1),c=u({get:()=>f.modelValue,set:e=>{g("update:modelValue",e)}}),p=e=>Array.isArray(e)?e.map(({label:a,value:n,children:s,props:r})=>({text:a,value:n,...Array.isArray(s)?{children:p(s)}:{},...r})):[],m=u(()=>{var a;var e;return p(N(i.value.schema,(a=(e=i.value.props)==null?void 0:e.options)!=null?a:[]))}),l=u(()=>({...i.value.props})),h=u(()=>{var s;const e=c.value;let a="",n=m.value;for(let r=0;r<e.length;r++){const V=e[r],t=n.find(({value:A})=>A===V);t&&(n=(s=t==null?void 0:t.children)!=null?s:[],a+=a?`/${t.text}`:t.text)}return a}),y=e=>{c.value=e.filter(Boolean).map(({value:a})=>a),o.value=!1};return()=>d("div",{class:v},[d(k,{border:!1,modelValue:h.value,"is-link":!l.value.readonly&&!l.value.disabled,center:!0,readonly:!0,inputAlign:"right",onClick:()=>{l.value.readonly||l.value.disabled||(o.value=!0)}},null),d(w,{show:o.value,"onUpdate:show":e=>o.value=e,position:"bottom"},{default:()=>[d(x,B({columns:m.value,onCancel:()=>{o.value=!1},onConfirm:y},l.value),null)]})])}});export{W as default};
