import{f as C,s as P,g as u,d as i,F as b,P as A,u as k,m as w,l as x,i as O}from"../app.10acef41.js";import{g as B}from"./widget-8eb6b43c.b301beeb.js";const F={modelValue:x(),addon:{type:Object,default:()=>({})}},[v]=O("widget-Cascader");var j=C({name:v,props:F,emits:["update:modelValue"],setup:(r,{emit:f})=>{const o=P(!1),c=u({get:()=>r.modelValue,set:e=>{f("update:modelValue",e)}}),m=e=>Array.isArray(e)?e.map(({label:a,value:d,children:t,props:s})=>({text:a,value:d,...Array.isArray(t)?{children:m(t)}:{},...s})):[],p=u(()=>{var a;var e;return m(B(r.addon.schema,(a=(e=r.addon.props)==null?void 0:e.options)!=null?a:[]))}),l=u(()=>({...r.addon.props})),g=u(()=>{var t;const e=c.value;let a="",d=p.value;for(let s=0;s<e.length;s++){const h=e[s],n=d.find(({value:V})=>V===h);n&&(d=(t=n==null?void 0:n.children)!=null?t:[],a+=a?`/${n.text}`:n.text)}return a}),y=e=>{console.log(e),c.value=e.filter(Boolean).map(({value:a})=>a),o.value=!1};return()=>i("div",{class:v},[i(b,{border:!1,modelValue:g.value,"is-link":!l.value.readonly&&!l.value.disabled,center:!0,readonly:!0,inputAlign:"right",onClick:()=>{l.value.readonly||l.value.disabled||(o.value=!0)}},null),i(A,{show:o.value,"onUpdate:show":e=>o.value=e,position:"bottom"},{default:()=>[i(k,w({columns:p.value,onCancel:()=>{o.value=!1},onConfirm:y},l.value),null)]})])}});export{j as default};
