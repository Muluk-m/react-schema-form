import{e as C,r as P,h as u,f as i,F as b,P as A,u as k,m as w,n as x,j as O}from"../app.2e4b9fc1.js";import{g as j}from"./widget-8eb6b43c.b301beeb.js";const B={modelValue:x(),addon:{type:Object,default:()=>({})}},[v]=O("widget-Cascader");var N=C({name:v,props:B,emits:["update:modelValue"],setup:(r,{emit:f})=>{const o=P(!1),c=u({get:()=>r.modelValue,set:e=>{f("update:modelValue",e)}}),m=e=>Array.isArray(e)?e.map(({label:a,value:d,children:t,props:s})=>({text:a,value:d,...Array.isArray(t)?{children:m(t)}:{},...s})):[],p=u(()=>{var a;var e;return m(j(r.addon.schema,(a=(e=r.addon.props)==null?void 0:e.options)!=null?a:[]))}),l=u(()=>({...r.addon.props})),g=u(()=>{var t;const e=c.value;let a="",d=p.value;for(let s=0;s<e.length;s++){const y=e[s],n=d.find(({value:V})=>V===y);n&&(d=(t=n==null?void 0:n.children)!=null?t:[],a+=a?`/${n.text}`:n.text)}return a}),h=e=>{console.log(e),c.value=e.filter(Boolean).map(({value:a})=>a),o.value=!1};return()=>i("div",{class:v},[i(b,{border:!1,modelValue:g.value,"is-link":!l.value.readonly&&!l.value.disabled,center:!0,readonly:!0,inputAlign:"right",onClick:()=>{l.value.readonly||l.value.disabled||(o.value=!0)}},null),i(A,{show:o.value,"onUpdate:show":e=>o.value=e,position:"bottom"},{default:()=>[i(k,w({columns:p.value,onCancel:()=>{o.value=!1},onConfirm:h},l.value),null)]})])}});export{N as default};
